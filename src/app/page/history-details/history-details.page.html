<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button defaultHref="tabs/profile"></ion-back-button>
        </ion-buttons>

        <ion-title>history-details</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div>
        <ion-card mode = "ios">
            <ion-card-header>
                <ion-card-subtitle>{{HistoryInfo?.refNo}}</ion-card-subtitle>
                <ion-card-title>{{HistoryInfo?.service}}</ion-card-title>
                <p>{{HistoryInfo?.serviceCost}}</p>
            </ion-card-header>

            <ion-card-content>
                <p>{{HistoryInfo?.serviceDesc}}</p>
                <p style="float: right;">{{HistoryInfo?.date}}</p>
            </ion-card-content>
        </ion-card>
    </div>

    <div>
        <nav class = "ion-padding">
            <span>Rate service</span>
            <p style = "font-size: 12px;">Tell us what you think</p>
        </nav>

        <!-- <nav>
            <ion-icon name="star-outline" style = "width: 26px; height: 26px;"></ion-icon>
            <ion-icon name="star-outline" style = "width: 26px; height: 26px;"></ion-icon>
            <ion-icon name="star-outline" style = "width: 26px; height: 26px;"></ion-icon>
            <ion-icon name="star-outline" style = "width: 26px; height: 26px;"></ion-icon>
            <ion-icon name="star-outline" style = "width: 26px; height: 26px;"></ion-icon>
        </nav> -->
    </div>

    <div>
        <nav style = "text-align: center;">
            <ionic4-star-rating
                activeIcon = "ios-star"
                defaultIcon = "ios-star-outline"
                activeColor = "red" 
                defaultColor = "black"
                readonly="false"
                fontSize = "22px"
                rating = "0"
                (ratingChanged)="logRatingChange($event)">
            </ionic4-star-rating>
        </nav>
        <!-- "#aaaaaa" -->
        <!-- "#488aff" -->
        <nav>
            <ion-item class = "ion-padding" lines = "none" style = "padding: 0%;">
                <ion-label position="stacked">Comments</ion-label>
                <ion-textarea [(ngModel)] = "comments" style = "border: 0.5px solid gray;padding-left: 10px;padding-right: 10px;border-radius: 10px;">
                </ion-textarea>
            </ion-item>
        </nav>

        <nav>
            <ion-button color="primary" class = "ion-padding" mode = "ios" (click) = "Comment()">Success</ion-button>
        </nav>
    </div>

    <div style = "margin-top: 40px;" class = "ion-padding">
        <h4>Ratings and reviews</h4>
        <ion-item lines = "none">
            <ion-avatar slot="start" style = "width: 30%;height: 30%;">
              <!-- <img src="./avatar-finn.png"> -->
              <h1 style = "font-size: 305%;">{{Average_Ratings}}</h1>
              <h6>{{countRatings}}</h6>
              <!-- <h3>{{countRatings}}</h3> -->
            </ion-avatar>
            <ion-label>

                <ion-grid slot = "start" style = "width: 100%;">
                        <ion-row>
                            <ion-col size = "1" style = "text-align: center;">
                                5
                            </ion-col>
                            <ion-col>
                                <ion-progress-bar style = "height: 13px;margin: 3px auto;border-radius: 3px;" value="{{ProgressBarValueFive}}" mode = "ios"></ion-progress-bar>
                            </ion-col>
                        </ion-row>
    
                        <ion-row>
                            <ion-col size = "1" style = "text-align: center;">
                                4
                            </ion-col>
                            <ion-col>
                                <ion-progress-bar style = "height: 13px;margin: 3px auto;border-radius: 3px;" value="{{ProgressBarValueFour}}" mode = "ios"></ion-progress-bar>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size = "1" style = "text-align: center;">
                                3
                            </ion-col>
                            <ion-col>
                                <ion-progress-bar style = "height: 13px;margin: 3px auto;border-radius: 3px;" value="{{ProgressBarValueThree}}" mode = "ios"></ion-progress-bar>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size = "1" style = "text-align: center;">
                                2
                            </ion-col>
                            <ion-col>
                                <ion-progress-bar style = "height: 13px;margin: 3px auto;border-radius: 3px;" value="{{ProgressBarValueTwo}}" mode = "ios"></ion-progress-bar>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size = "1" style = "text-align: center;">
                                1
                            </ion-col>
                            <ion-col>
                                <ion-progress-bar style = "height: 13px;margin: 3px auto;border-radius: 3px;" value="{{ProgressBarValueOne}}" mode = "ios"></ion-progress-bar>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                
            </ion-label>
          </ion-item>
    </div>

    <div style = "margin-top: 50px;">
        <h4 style = "padding-left: 20px;padding-right: 20px;">Comments</h4>
        <ion-item *ngFor = "let com of Comment_Array">
            <ion-avatar slot="start" style = "background-color: rgba(43, 160, 167, 0.8);
            text-align: center;padding: 0%;">
                <p style = "text-align: center; color: white;
                margin: 28% auto; letter-spacing: -2px;">
                    {{first_Char}}
                    {{second_Char}}
                </p>
              <!-- <ion-icon name="person" style = "width: 30px;height: 30px;border: 1px solid black;border-radius: 50px;padding: 7px;"></ion-icon> -->
            </ion-avatar>

            <ion-label>
              <h2>{{com?.name}} {{com?.surname}}</h2>
              <h2>{{com?.email}}</h2>

              <ion-row >
                <!-- <ion-col>
                    <span>{{com?.date}}</span>
                </ion-col>
                  <ion-col size="1" id="rates" *ngFor="let i of specAvarageRates(rate.rate).fill(1)">
                      <ion-icon name="star" color="secondary"></ion-icon>
                  </ion-col> -->
                  <nav>
                    <ionic4-star-rating
                        activeIcon = "ios-star"
                        defaultIcon = "ios-star-outline"
                        activeColor = "red" 
                        defaultColor = "#aaaaaa"
                        readonly="true"
                        fontSize = "15px"
                        rating = "{{com?.rate}}">
                    </ionic4-star-rating>
                  </nav>

                  <nav>
                    <p>{{com?.date}}</p>
                  </nav>
                </ion-row>
              <!-- <p>{{com?.date}}</p> -->
              <p>{{com?.comment}}</p>
            </ion-label>

            <!-- <nav>
                <ion-icon name="thumbs-up" slot = "start"></ion-icon>
            </nav> -->
          </ion-item>
    </div>

</ion-content>